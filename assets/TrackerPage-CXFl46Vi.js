import{u as h,r as d,c as O,j as e,h as me,m as ke,n as Se,A as ue,o as Le,M as Pe,a as w,p as $e,q as De,t as K,v as je,w as Me,x as Ae,N as xe,y as J,z as Ie,O as He,B as Fe,C as Ee,g as ve,D as Oe,E as Ve,F as be,G as Ue,H as Re,I as Ne,J as qe,K as Ye,P as we,Q as Ge,R as Je,S as ze,T as Ke,U as Qe}from"./index-DqmA4O_d.js";import{c as Te,a as Be,d as te,u as fe,o as Ce,C as E,L as z}from"./LoaderComponent-C2i3j4hM.js";import{s as u,L as Ze}from"./icons-BYs5TZM8.js";import{p as Q}from"./parseDate-DPzOQ_-D.js";import{L as Xe}from"./LanguageSwitcher-DSHnheWv.js";const es="_WaterModal_rwiin_1",ss="_WaterModalCloseBtn_rwiin_22",he={WaterModal:es,WaterModalCloseBtn:ss},ts="_WaterForm_nvl8x_1",as="_FormHeader_nvl8x_13",ns="_AmountOfWater_nvl8x_25",os="_TapAddWaterWrapper_nvl8x_36",rs="_TapAddWater_nvl8x_36",cs="_TapAddWaterValue_nvl8x_88",ls="_RecordingTimeLabel_nvl8x_103",is="_RecordingTime_nvl8x_103",ds="_WaterValueLabel_nvl8x_135",ms="_WaterValue_nvl8x_135",us="_SaveBtn_nvl8x_176",b={WaterForm:ts,FormHeader:as,AmountOfWater:ns,TapAddWaterWrapper:os,TapAddWater:rs,TapAddWaterValue:cs,RecordingTimeLabel:ls,RecordingTime:is,WaterValueLabel:ds,WaterValue:ms,SaveBtn:us,Error:"_Error_nvl8x_212"},_s=({operationType:t="add",editTime:s,waterPortion:n,waterID:a,handleClose:c})=>{const{t:r}=h(),[i,m]=d.useState(n),p=O(),[B,j]=d.useState(!1),g=new Date(s),v=g.getFullYear(),W=String(g.getMonth()+1).padStart(2,"0"),_=String(g.getDate()).padStart(2,"0"),P=t==="add"?new Date:g,I=String(P.getHours()).padStart(2,"0"),T=String(P.getMinutes()).padStart(2,"0"),[y,ae]=d.useState(I),[X,V]=d.useState(T),U=Te().shape({recordingTime:Be().required(r("recordTimeRequired")).matches(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,r("invalidTimeFormat")),waterValue:te().required(r("waterValueRequired")).min(50,r("waterValueGreater")).max(5e3,r("waterValueLess"))}),{control:H,handleSubmit:l,setValue:f,formState:{errors:x}}=fe({resolver:Ce(U),defaultValues:{recordingTime:`${y}:${X}`,waterValue:i.toString()}}),R=C=>{const ee=new Date(`${v}-${W}-${_}T${y}:${X}:00`).getTime().toString(),re={amount:C.waterValue,date:ee},We={amount:C.waterValue,date:ee};switch(j(!0),t){case"add":p(Se(re)).then(({error:ce})=>{ce?j(!1):(j(!1),c())});break;case"edit":p(ke({id:a,formData:We})).then(({error:ce})=>{ce?j(!1):(j(!1),c())});break;default:j(!1);break}},ne=C=>{switch(C){case"add":return e.jsx("p",{className:b.FormHeader,children:r("chooseValue")});case"edit":return e.jsx("p",{className:b.FormHeader,children:r("correctData")});default:return e.jsx("p",{className:b.FormHeader,children:r("addWater")})}},k=C=>{m(C),f("waterValue",C.toString())},$=i===50,oe=i===5e3;return e.jsxs("form",{className:b.WaterForm,onSubmit:l(R),children:[ne(t),e.jsx("p",{className:b.AmountOfWater,children:r("waterAmount")}),e.jsxs("div",{className:b.TapAddWaterWrapper,children:[e.jsx("button",{type:"button",className:b.TapAddWater,onClick:()=>k(Math.max(i-50,0)),disabled:$,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:u+"#icon-remove"})})}),e.jsxs("p",{className:b.TapAddWaterValue,children:[i," ",r("ml")]}),e.jsx("button",{type:"button",className:b.TapAddWater,onClick:()=>k(i+50),disabled:oe,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:u+"#icon-add"})})})]}),e.jsxs("label",{className:b.RecordingTimeLabel,children:[r("recordTime"),e.jsx(E,{name:"recordingTime",control:H,render:({field:C})=>e.jsx("input",{...C,type:"text",className:me(b.RecordingTime),placeholder:"HH:MM",onChange:q=>{const[ee,re]=q.target.value.split(":");ae(ee),V(re),C.onChange(q)}})}),x.recordingTime&&e.jsx("p",{className:b.Error,children:x.recordingTime.message})]}),e.jsxs("label",{className:b.WaterValueLabel,children:[r("enterWaterValue"),e.jsx(E,{name:"waterValue",control:H,render:({field:C})=>e.jsx("input",{...C,type:"number",value:i||"",onChange:q=>k(Number(q.target.value)),className:b.WaterValue})}),x.waterValue&&e.jsx("p",{className:b.Error,children:x.waterValue.message})]}),e.jsx("button",{type:"submit",className:b.SaveBtn,disabled:B,children:B?e.jsx(z,{height:44,width:44}):r("save")})]})},_e=({operationType:t,onClose:s,water:n={},timestampFromUrl:a=""})=>{const{t:c}=h(),r=()=>{const v=setTimeout(()=>{s(),clearTimeout(v)},ue.DURATION)},i=v=>{switch(v){case"add":return c("addWaterTitle");case"edit":return c("editWaterAmount");default:return c("addWaterTitle")}},m=Number(a),p=Number(n.date),B=v=>{switch(v){case"add":return m;case"edit":return p}},j=v=>{switch(v){case"add":return 50;case"edit":return n.amount;default:return 50}},g=v=>{switch(v){case"add":return null;case"edit":return n.id;default:return null}};return e.jsxs("div",{className:he.WaterModal,children:[e.jsx("h1",{children:i(t)}),e.jsx(_s,{operationType:t,editTime:B(t),waterPortion:j(t),waterID:g(t),handleClose:r}),e.jsx("button",{type:"button",onClick:r,"aria-label":c("closeWaterModal"),className:he.WaterModalCloseBtn,children:e.jsx("svg",{children:e.jsx("use",{xlinkHref:u+"#icon-clear"})})})]})},xs="_water_item_content_jju7j_1",hs="_water_info_jju7j_12",ps="_water_amount_jju7j_15",gs="_water_date_jju7j_22",js="_icon_water_glass_jju7j_28",vs="_editButton_jju7j_37",bs="_deleteButton_jju7j_38",Ns="_container_buttons_jju7j_50",ws="_icon_action_jju7j_56",S={water_item_content:xs,water_info:hs,water_amount:ps,water_date:gs,icon_water_glass:js,editButton:vs,deleteButton:bs,container_buttons:Ns,icon_action:ws,"icon_water-glass":"_icon_water-glass_jju7j_74"},Ts="_modal_1t8lw_3",Bs="_closeBtn_1t8lw_18",fs="_svg_1t8lw_38",Cs="_modalTextBox_1t8lw_44",ys="_modalTitle_1t8lw_54",Ws="_modalText_1t8lw_44",ks="_modalBtnBox_1t8lw_74",Ss="_btnCancel_1t8lw_84",M={modal:Ts,closeBtn:Bs,svg:fs,modalTextBox:Cs,modalTitle:ys,modalText:Ws,modalBtnBox:ks,btnCancel:Ss},Ls="_btnDelete_1jxs8_3",Ps={btnDelete:Ls},$s=({isLoading:t,handleDelete:s})=>{const{t:n}=h();return e.jsx("button",{type:"button",onClick:()=>s(),className:Ps.btnDelete,disabled:t,children:n("delete")})},Ds=({id:t,onClose:s})=>{const{t:n}=h(),[a,c]=d.useState(!1),r=O(),i=()=>{const p=setTimeout(()=>{s(),clearTimeout(p)},ue.DURATION)},m=()=>{c(()=>!0),r(Le(t)).then(({error:p})=>{p||i(),c(!1)})};return e.jsxs("div",{className:M.modal,children:[e.jsx("button",{type:"button","aria-label":n("closeDeleteEntryModal"),onClick:i,className:M.closeBtn,children:e.jsx("svg",{className:M.svg,children:e.jsx("use",{xlinkHref:u+"#icon-x"})})}),e.jsxs("div",{className:M.modalTextBox,children:[e.jsx("h2",{className:M.modalTitle,children:n("deleteEntry")}),e.jsx("p",{className:M.modalText,children:n("confirmDeleteEntry")})]}),e.jsx("div",{className:M.modalBtnBox,children:a?e.jsx(z,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx($s,{handleDelete:m,id:t}),e.jsx("button",{type:"button",onClick:i,className:M.btnCancel,children:n("cancel")})]})})]})},Ms=t=>{const s=new Date(Number(t));let n=s.getHours();const a=s.getMinutes(),c=n>=12?"PM":"AM";n>=12&&(n=n%12,n=n||12);const r=n.toString().padStart(2,"0"),i=a.toString().padStart(2,"0");return`${r}:${i} ${c}`},As=t=>t>=1e3?{value:t/1e3,text:"l"}:{value:t,text:"ml"},Z=()=>d.useContext(Pe),Is=({water:t})=>{const s=Z(),{t:n}=h(),a=d.useCallback(()=>{s()},[s]),c=d.useCallback(()=>{s(e.jsx(Ds,{id:t.id,onClose:a}))},[s,a,t]),r=d.useCallback(()=>{s(e.jsx(_e,{water:t,onClose:a,operationType:"edit"}))},[s,a,t]),i=As(t.amount);return e.jsxs("div",{className:S.water_item_content,children:[e.jsx("svg",{className:S.icon_water_glass,width:"44",height:"45",children:e.jsx("use",{xlinkHref:u+"#icon-water-glass"})}),e.jsxs("div",{className:S.water_info,children:[e.jsx("p",{className:S.water_amount,children:`${i.value} ${n(i.text)}`}),e.jsx("p",{className:S.water_date,children:Ms(t.date)})]}),e.jsxs("div",{className:S.container_buttons,children:[e.jsx("button",{className:S.editButton,onClick:r,"aria-label":"Edit the entered amount of water",children:e.jsx("svg",{className:S.icon_action,width:"14",height:"14",children:e.jsx("use",{xlinkHref:u+"#icon-edit"})})}),e.jsx("button",{className:S.deleteButton,onClick:c,"aria-label":"Delete the entered amount of water",children:e.jsx("svg",{className:S.icon_action,width:"14",height:"14",children:e.jsx("use",{xlinkHref:u+"#icon-trash"})})})]})]})},Hs="_waterList_n1l4u_1",Fs="_messageContainer_n1l4u_10",Es="_noWater_n1l4u_18",Os="_skeleton_n1l4u_63",Vs="_shimmer_n1l4u_1",Y={waterList:Hs,messageContainer:Fs,noWater:Es,skeleton:Os,shimmer:Vs},Us=()=>{const{t}=h(),s=w($e);return w(De)?e.jsx("div",{className:Y.waterList,children:[1,2,3].map(a=>e.jsx("div",{className:Y.skeleton},a))}):s.length?e.jsx("ul",{className:Y.waterList,children:s.map(a=>e.jsx("li",{children:e.jsx(Is,{water:a})},a.id))}):e.jsx("div",{className:Y.messageContainer,children:e.jsx("h2",{className:Y.noWater,children:t("noWaterAdded")})})},Rs="_info_1c4or_1",qs="_header_1c4or_13",Ys="_title_1c4or_21",Gs="_button_1c4or_36",Js="_icon_1c4or_60",zs="_iconBackground_1c4or_83",pe={info:Rs,header:qs,title:Ys,button:Gs,icon:Js,iconBackground:zs},Ks="_iconStyle_16qik_1",Qs="_btnStyle_16qik_12",ge={iconStyle:Ks,btnStyle:Qs},Zs=()=>{const t=Z(),{t:s}=h(),n=d.useCallback(()=>{t()},[t]),{date:a}=K(),c=Q(a).getTime(),r=d.useCallback(()=>{t(e.jsx(_e,{onClose:n,operationType:"add",timestampFromUrl:c}))},[t,n,c]);return e.jsxs("button",{className:ge.btnStyle,type:"button",onClick:r,children:[e.jsx("svg",{className:ge.iconStyle,width:"16",height:"16",children:e.jsx("use",{xlinkHref:u+"#icon-plus"})}),s("addWater")]})},Xs="_selectedDate_9jh0c_1",et={selectedDate:Xs},st=t=>{const s=new Date;return{isToday:s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate(),day:t.getDate(),month:je[t.getMonth()]}},tt=()=>{const{t}=h(),{date:s}=K(),{isToday:n,day:a,month:c}=st(Q(s)),r=n?t("today"):`${a} ${t(c+"Day")}`;return e.jsx("h3",{className:et.selectedDate,children:r})},at=()=>e.jsxs("div",{className:pe.info,children:[e.jsxs("div",{className:`${pe.header} five-step`,children:[e.jsx(tt,{}),e.jsx(Zs,{})]}),e.jsx(Us,{})]}),nt=({title:t,styles:s})=>e.jsx("span",{className:s,children:t}),ot="_btn_107kj_3",rt="_btn_disabled_107kj_15",ct="_svg_schedule_107kj_23",lt="_isHidden_107kj_28",it="_calendar_title_107kj_32",dt="_month_107kj_44",mt="_month_ind_107kj_57",ut="_month_year_107kj_89",_t="_statistic_btn_107kj_96",xt="_svg_pie_107kj_106",ht="_opacity1_107kj_112",pt="_svg_arrow_left_107kj_116",gt="_svg_arrow_right_107kj_123",N={btn:ot,btn_disabled:rt,svg_schedule:ct,isHidden:lt,calendar_title:it,month:dt,month_ind:mt,month_year:ut,statistic_btn:_t,svg_pie:xt,opacity1:ht,svg_arrow_left:pt,svg_arrow_right:gt},jt=()=>{const{date:t}=K(),s=Q(t),n=O(),[a,c]=d.useState(new Date(s).getFullYear()),[r,i]=d.useState(new Date(s).getMonth()),m=w(Me),{t:p}=h(),j=Ae().pathname.split("/").pop(),g=()=>{if(r===11){n(J(new Date(a+1,4).getTime())),i(0),c(a+1);return}n(J(new Date(a,r+1,4).getTime())),i(r+1)},v=()=>{if(r===0){n(J(new Date(a-1,11,4).getTime())),i(11),c(a-1);return}n(J(new Date(a,r-1,4).getTime())),i(r-1)},W=p(je[r]),_=p(j==="schedule"?"statistics":"month"),P=new Date(Date.now()).getFullYear(),I=new Date(Date.now()).getMonth(),T=new Date(P,I)<=new Date(a,r);return e.jsxs("div",{className:`${N.calendar_title} six-step`,children:[e.jsx(nt,{title:_,styles:N.month}),e.jsxs("div",{className:N.month_ind,children:[e.jsx("button",{onClick:v,className:N.btn,disabled:m,children:e.jsx("svg",{className:N.svg_arrow_left,children:e.jsx("use",{xlinkHref:u+"#icon-arrow"})})}),e.jsx("span",{className:N.month_year,children:`${W},
					${a}`}),e.jsx("button",{onClick:g,className:`${N.btn} ${T?N.btn_disabled:""} `,disabled:m||T,children:e.jsx("svg",{className:N.svg_arrow_right,children:e.jsx("use",{xlinkHref:u+"#icon-arrow"})})}),e.jsx(xe,{to:"calendar",className:({isActive:y})=>me(N.statistic_btn,{[N.isHidden]:y}),children:e.jsx("svg",{className:N.svg_schedule,children:e.jsx("use",{xlinkHref:u+"#icon-pie-chart"})})}),e.jsx(xe,{to:"schedule",className:({isActive:y})=>me(N.statistic_btn,{[N.isHidden]:y}),children:e.jsx("svg",{className:N.svg_pie,children:e.jsx("use",{xlinkHref:u+"#icon-pie-chart"})})})]})]})},vt=()=>e.jsxs("div",{children:[e.jsx(jt,{}),e.jsx(d.Suspense,{fallback:e.jsx(Ie,{}),children:e.jsx(He,{})})]}),bt="_modal_4r41w_3",Nt="_closeBtn_4r41w_18",wt="_svg_4r41w_38",Tt="_modalTextBox_4r41w_44",Bt="_modalTitle_4r41w_54",ft="_modalText_4r41w_44",Ct="_modalBtnBox_4r41w_74",yt="_btnCancel_4r41w_84",A={modal:bt,closeBtn:Nt,svg:wt,modalTextBox:Tt,modalTitle:Bt,modalText:ft,modalBtnBox:Ct,btnCancel:yt},Wt="_btnLogout_1dgmy_3",kt={btnLogout:Wt},St=({handleClose:t})=>{const{t:s}=h(),n=O(),a=Fe(),c=()=>{n(Ee()).then(({error:r})=>{r||(a("/"),t())})};return e.jsx(e.Fragment,{children:e.jsx("button",{type:"button",onClick:c,className:kt.btnLogout,children:s("logout")})})},Lt=({onClose:t})=>{const{t:s}=h(),n=w(ve),a=()=>{const c=setTimeout(()=>{t(),clearTimeout(c)},ue.DURATION)};return e.jsxs("div",{className:A.modal,children:[e.jsx("button",{type:"button","aria-label":s("closeLogOutModal"),onClick:a,className:A.closeBtn,children:e.jsx("svg",{className:A.svg,children:e.jsx("use",{xlinkHref:u+"#icon-x"})})}),e.jsxs("div",{className:A.modalTextBox,children:[e.jsx("h2",{className:A.modalTitle,children:s("logout")}),e.jsx("p",{className:A.modalText,children:s("confirmLogout")})]}),e.jsx("div",{className:A.modalBtnBox,children:n?e.jsx(z,{height:80,width:80}):e.jsxs(e.Fragment,{children:[e.jsx(St,{handleClose:a}),e.jsx("button",{type:"button",onClick:a,className:A.btnCancel,children:s("cancel")})]})})]})},Pt="_userAvatar_1exc1_3",$t="_loader_1exc1_22",Dt="_uploadContainer_1exc1_30",Mt="_icon_1exc1_37",At="_ordinaryText_1exc1_45",It="_hideBtn_1exc1_51",Ht="_userSettingForm_1exc1_55",Ft="_boldText_1exc1_74",Et="_genderContainer_1exc1_80",Ot="_radioContainer_1exc1_85",Vt="_radioInput_1exc1_95",Ut="_userPreferences_1exc1_120",Rt="_formNameEmail_1exc1_126",qt="_formWeightTime_1exc1_131",Yt="_formula_1exc1_144",Gt="_inputBox_1exc1_148",Jt="_formulaDescription_1exc1_172",zt="_formulaExpression_1exc1_186",Kt="_temporarySymbol_1exc1_200",Qt="_formulaDescriptionText_1exc1_210",Zt="_submitBtn_1exc1_214",Xt="_loaderWrapper_1exc1_238",ea="_boldTextBtn_1exc1_245",sa="_consumeWater_1exc1_252",ta="_userNorma_1exc1_259",aa="_langButton_1exc1_267",na="_errorMessage_1exc1_277",o={userAvatar:Pt,loader:$t,uploadContainer:Dt,icon:Mt,ordinaryText:At,hideBtn:It,userSettingForm:Ht,boldText:Ft,genderContainer:Et,radioContainer:Ot,radioInput:Vt,userPreferences:Ut,formNameEmail:Rt,formWeightTime:qt,formula:Yt,inputBox:Gt,formulaDescription:Jt,formulaExpression:zt,temporarySymbol:Kt,formulaDescriptionText:Qt,submitBtn:Zt,loaderWrapper:Xt,boldTextBtn:ea,consumeWater:sa,userNorma:ta,langButton:aa,errorMessage:na},oa=({handleClose:t})=>{const{t:s}=h(),[n,a]=d.useState(0),c=O(),r=w(ve),i=w(Oe),m=w(Ve),p=w(be),B=Te({name:Be().max(10,s("nameMaxCharacters")).required(s("nameRequired")),weight:te().min(0).max(300,s("weightValueLess")).typeError(s("hasToBeANumber")),dailyActiveTime:te().min(0).max(12,s("activeSportTime")).typeError(s("hasToBeANumber")),dailyWaterConsumption:te().min(0).max(8,s("dailyWaterConsumption")).typeError(s("hasToBeANumber"))}),{control:j,register:g,handleSubmit:v,watch:W,formState:{errors:_}}=fe({resolver:Ce(B),defaultValues:{email:m.email,gender:m.gender,name:m.name,weight:m.weight,dailyActiveTime:m.dailyActiveTime,dailyWaterConsumption:m.dailyWaterConsumption},mode:"onSubmit"}),P=W("weight"),I=W("name"),T=W("gender"),y=W("dailyActiveTime");d.useEffect(()=>{let l;const f=parseInt(P||0),x=parseInt(y||0);T==="woman"?l=f*.03+x*.4:l=f*.04+x*.6,a(Math.min(parseFloat(l),8).toFixed(2))},[y,I,T,P]);const ae=l=>{const{photo:f,...x}=m,R=Object.keys(x).sort().reduce((k,$)=>(k[$]=x[$],k),{}),ne=Object.keys(l).sort().reduce((k,$)=>(k[$]=l[$],k),{});if(JSON.stringify(R)!==JSON.stringify(ne)){const{email:k,...$}=l;c(Ue($)).then(({error:oe})=>{oe||t()})}else t()},X=l=>{const f=new FormData,x=l.target.files[0];x&&(f.append("avatar",x),c(Re(f)))},V=l=>f=>{let x=f.target.value;(x===""||/^(\d+(\.\d{0,3})?|\.\d{1,3})$/.test(x))&&l.onChange(x)},U=l=>()=>{l.value===0&&l.onChange("")},H=l=>()=>{l.value===""?l.onChange(0):l.value.startsWith(".")&&l.onChange("0"+l.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:o.userAvatar,children:[i?e.jsx("div",{className:o.loader,children:e.jsx(z,{})}):e.jsx("img",{src:p||"/img/avatar-placeholder.jpg",alt:"User's photo"}),e.jsxs("label",{children:[e.jsxs("div",{className:o.uploadContainer,children:[e.jsx("svg",{className:o.icon,children:e.jsx("use",{xlinkHref:u+"#icon-upload"})}),e.jsx("span",{className:o.ordinaryText,children:s("uploadPhoto")})]}),e.jsx("input",{className:o.hideBtn,type:"file",accept:"image/*",onChange:X}),_.avatar&&e.jsx("p",{children:_.avatar.message})]})]}),e.jsxs("div",{className:o.langButton,children:[e.jsx("p",{children:s("changeLanguage")}),e.jsx(Xe,{})]}),e.jsxs("form",{onSubmit:v(ae),className:o.userSettingForm,children:[e.jsx("div",{className:o.genderContainer,children:e.jsxs("label",{className:o.genderIdentity,children:[e.jsx("span",{className:o.boldText,children:s("genderIdentity")}),e.jsxs("div",{className:o.radioContainer,children:[e.jsx("input",{type:"radio",id:"woman",className:o.radioInput,...g("gender"),value:"woman",checked:T==="woman"}),e.jsx("label",{htmlFor:"woman",className:o.ordinaryText,children:s("woman")}),e.jsx("input",{type:"radio",id:"man",className:o.radioInput,...g("gender"),value:"man",checked:T==="man"}),e.jsx("label",{htmlFor:"man",className:o.ordinaryText,children:s("man")})]}),_.gender&&e.jsx("p",{className:o.errorMessage,children:_.gender.message})]})}),e.jsxs("div",{className:o.userPreferences,children:[e.jsxs("div",{className:o.formNameEmail,children:[e.jsxs("label",{children:[e.jsx("span",{className:o.boldText,children:s("yourName")}),e.jsx(E,{render:({field:l})=>e.jsx("input",{...l,className:o.inputBox,placeholder:s("placeholderName"),onChange:f=>{let x=f.target.value;/^[A-Za-zА-Яа-яЇїІіЄєҐґ]*$/.test(x)&&l.onChange(x)}}),name:"name",control:j}),_.name&&e.jsx("p",{className:o.errorMessage,children:_.name.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:o.boldText,children:s("email")}),e.jsx("input",{disabled:!0,...g("email"),className:o.inputBox,placeholder:s("placeholderEmail")})]}),e.jsxs("div",{className:o.formula,children:[e.jsx("p",{className:o.boldText,children:s("dailyNorm")}),e.jsxs("div",{className:o.formulaDescription,children:[e.jsxs("p",{className:o.ordinaryText,children:[e.jsxs("span",{children:[s("forWoman")," "]}),e.jsx("span",{className:o.formulaExpression,children:"V=(M*0,03) + (T*0,4)"})]}),e.jsxs("p",{className:o.ordinaryText,children:[e.jsxs("span",{children:[s("forMan")," "]}),e.jsx("span",{className:o.formulaExpression,children:"V=(M*0,04) + (T*0,6)"})]})]}),e.jsxs("p",{className:o.ordinaryText,children:[e.jsx("span",{className:o.formulaExpression,children:"* "}),e.jsx("span",{className:o.formulaDescriptionText,children:s("formulaExplanation")})]}),e.jsxs("p",{className:o.ordinaryText,children:[e.jsx("span",{className:o.temporarySymbol,children:"! "}),s("activeTime")]})]})]}),e.jsxs("div",{className:o.formWeightTime,children:[e.jsxs("label",{children:[e.jsx("span",{className:o.ordinaryText,children:s("yourWeight")}),e.jsx(E,{name:"weight",control:j,render:({field:l})=>e.jsx("input",{...l,className:o.inputBox,onChange:V(l),onFocus:U(l),onBlur:H(l)})}),_.weight&&e.jsx("p",{className:o.errorMessage,children:_.weight.message})]}),e.jsxs("label",{children:[e.jsx("span",{className:o.ordinaryText,children:s("activeSportsTime")}),e.jsx(E,{name:"dailyActiveTime",control:j,render:({field:l})=>e.jsx("input",{...l,className:o.inputBox,onChange:V(l),onFocus:U(l),onBlur:H(l)})}),_.dailyActiveTime&&e.jsx("p",{className:o.errorMessage,children:_.dailyActiveTime.message})]}),e.jsxs("div",{className:o.consumeWater,children:[e.jsxs("p",{className:o.ordinaryText,children:[s("requiredWaterAmount")," ",e.jsxs("span",{className:o.userNorma,children:[isNaN(n)?0:n," L"]})]}),e.jsxs("label",{children:[e.jsx("span",{className:o.boldText,children:s("recordWaterIntake")}),e.jsx(E,{name:"dailyWaterConsumption",control:j,render:({field:l})=>e.jsx("input",{...l,className:o.inputBox,onChange:V(l),onFocus:U(l),onBlur:H(l)})}),_.dailyWaterConsumption&&e.jsx("p",{className:o.errorMessage,children:_.dailyWaterConsumption.message})]})]})]})]}),e.jsxs("button",{disabled:r,type:"submit",className:`${o.submitBtn} ${o.boldTextBtn}`,children:[s("save"),r&&e.jsx("div",{className:o.loaderWrapper,children:e.jsx(z,{height:56,width:56})})]})]})]})},ra="_modalSettingContainer_hwoti_3",ca="_modalHeader_hwoti_16",la="_closeBtn_hwoti_31",ia="_icon_hwoti_46",se={modalSettingContainer:ra,modalHeader:ca,closeBtn:la,icon:ia},ye=({onClose:t})=>{const{t:s}=h();return e.jsxs("div",{className:se.modalSettingContainer,children:[e.jsxs("div",{className:se.modalHeader,children:[e.jsx("h2",{children:s("settings")}),e.jsx("button",{type:"button","aria-label":s("closeSettingModal"),className:se.closeBtn,onClick:t,children:e.jsx("svg",{className:se.icon,children:e.jsx("use",{xlinkHref:u+"#icon-x"})})})]}),e.jsx(oa,{handleClose:t})]})},da="_userBarPopover_6qswv_1",ma="_userBarPopoverList_6qswv_13",ua="_userBarPopoverListItem_6qswv_18",_a="_userBarPopoverListItemLogOut_6qswv_27",xa="_userBarPopoverIconSettings_6qswv_35",ha="_userBarPopoverIconLogOut_6qswv_41",D={userBarPopover:da,userBarPopoverList:ma,userBarPopoverListItem:ua,userBarPopoverListItemLogOut:_a,userBarPopoverIconSettings:xa,userBarPopoverIconLogOut:ha},pa=d.forwardRef(function({handleOutsideClick:s},n){const{t:a}=h(),{setIsOpen:c,setCurrentStep:r,setSteps:i}=Ne(),m=window.innerHeight,p=window.scrollY,[B,j]=d.useState(64),g=Z(),v=[{content:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("h2",{children:a("greatingH")}),e.jsx("p",{children:a("greatingP")})]}),position:"center"},{selector:".first-step",content:a("first-step")},{selector:".second-step",content:a("second-step")},{selector:".third-step",content:a("third-step")},{selector:".four-step",content:a("fourth-step")},{selector:".five-step",content:a("fifth-step")},{selector:".six-step",content:a("sixth-step")},{content:e.jsx("div",{style:{textAlign:"center"},children:e.jsx("h2",{children:a("endingH")})}),position:"center"}],W=()=>{i(v),r(0),c(!0),qe()},_=d.useCallback(()=>{g()},[g]),P=d.useCallback(()=>{g(e.jsx(ye,{onClose:_}))}),I=d.useCallback(()=>{g(e.jsx(Lt,{onClose:_}))},[g,_]);return d.useEffect(()=>{const T=n.current.clientHeight,y=n.current.getBoundingClientRect().bottom;return m-p>T&&m-y<T&&j(-8-T),window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[m,p,n,s]),e.jsx("div",{className:D.userBarPopover,style:{top:B},ref:n,children:e.jsxs("ul",{className:D.userBarPopoverList,children:[e.jsxs("li",{className:D.userBarPopoverListItem,onClick:P,children:[e.jsx("svg",{className:D.userBarPopoverIconSettings,children:e.jsx("use",{xlinkHref:u+"#icon-settings"})}),a("settingLink")]}),e.jsxs("li",{className:D.userBarPopoverListItem,onClick:W,children:[e.jsx("svg",{className:D.userBarPopoverIconSettings,children:e.jsx("use",{xlinkHref:u+"#icon-tour"})}),a("use")]}),e.jsxs("li",{className:`${D.userBarPopoverListItem} ${D.userBarPopoverListItemLogOut}`,onClick:I,children:[e.jsx("svg",{className:D.userBarPopoverIconLogOut,children:e.jsx("use",{xlinkHref:u+"#icon-log-out"})}),a("logout")]})]})})}),ga="_userBarWrapper_1pqkn_1",ja="_userBar_1pqkn_1",va="_userBarText_1pqkn_24",ba="_userBarAvatar_1pqkn_31",Na="_userBarIcon_1pqkn_43",F={userBarWrapper:ga,userBar:ja,userBarText:va,userBarAvatar:ba,userBarIcon:Na},wa=({name:t})=>{const{t:s}=h(),[n,a]=d.useState(!1),c=d.useRef(null),r=w(be),i="/img/avatar-placeholder.jpg",m=B=>{B.target.name==="openPopover"&&n===!0||c.current&&!c.current.contains(B.target)&&a(!1)},p=()=>{c.current===null?a(!0):a(!1)};return e.jsxs("div",{className:`${F.userBarWrapper} four-step`,children:[e.jsxs("button",{className:F.userBar,type:"button",name:"openPopover",onClick:p,"aria-label":s("openCloseUserPanel"),children:[e.jsx("div",{className:F.userBarText,children:t}),e.jsx("div",{className:F.userBarAvatar,style:{backgroundImage:`url(${r||i})`}}),n?e.jsx("svg",{className:F.userBarIcon,children:e.jsx("use",{xlinkHref:u+"#icon-chevron-up"})}):e.jsx("svg",{className:F.userBarIcon,children:e.jsx("use",{xlinkHref:u+"#icon-chevron-down"})})]}),n&&e.jsx(pa,{handleOutsideClick:m,ref:c})]})},Ta="_userPanel_qsvx1_1",Ba="_userPanelTitle_qsvx1_7",fa="_userPanelTitleName_qsvx1_18",le={userPanel:Ta,userPanelTitle:Ba,userPanelTitleName:fa},Ca=()=>{const{t}=h(),s=w(Ye);return e.jsxs("div",{className:le.userPanel,children:[e.jsxs("h1",{className:le.userPanelTitle,children:[t("hello")," ",e.jsx("span",{className:le.userPanelTitleName,children:` ${s}!`})]}),e.jsx(wa,{name:s})]})},ya="_waterDetailedInfo_ccbuk_1",Wa={waterDetailedInfo:ya},ka=()=>e.jsxs("section",{className:Wa.waterDetailedInfo,children:[e.jsx(Ca,{}),e.jsx(at,{}),e.jsx(vt,{})]}),Sa="_progressBarContainer_13vow_1",La="_progressBarTitle_13vow_14",Pa="_progressBar_13vow_1",$a="_progressBarFill_13vow_29",Da="_ball_13vow_38",Ma="_percentNumber_13vow_49",Aa="_percentContainer_13vow_59",Ia="_percent_13vow_49",L={progressBarContainer:Sa,progressBarTitle:La,progressBar:Pa,progressBarFill:$a,ball:Da,percentNumber:Ma,percentContainer:Aa,percent:Ia},Ha=()=>{const{t}=h(),s=w(r=>r.water.todayAmount.value),n=w(we),a=Math.round(s/(n*1e3)*100),c=a>=100?100:a;return e.jsxs("div",{className:`${L.progressBarContainer} second-step`,children:[e.jsx("h2",{className:L.progressBarTitle,children:t("today")}),e.jsx("div",{className:L.progressBar,children:e.jsxs("div",{className:L.progressBarFill,style:{width:`${c}%`,backgroundColor:s<n*1e3?"#9be1a0":"#FABE4A"},children:[e.jsx("p",{className:L.percentNumber,style:{color:s<n*1e3?"#9be1a0":"#FABE4A"},children:s<n*1e3?`${c.toFixed(0)}%`:"done!"}),e.jsx("div",{className:L.ball,style:{border:s<n*1e3?"solid 1px #9be1a0":"solid 1px #FABE4A"}})]})}),e.jsxs("div",{className:L.percentContainer,children:[e.jsx("p",{className:L.percent,children:"0%"}),e.jsx("p",{className:L.percent,children:"50%"}),e.jsx("p",{className:L.percent,children:"100%"})]})]})},Fa="_waterContainer_2bv6x_1",Ea="_normaContainer_2bv6x_25",Oa="_normaL_2bv6x_37",Va="_normaText_2bv6x_44",Ua="_waterTitle_2bv6x_73",G={waterContainer:Fa,normaContainer:Ea,normaL:Oa,normaText:Va,waterTitle:Ua},Ra="_btnSet_yi3sf_1",qa="_btnTextSet_yi3sf_14",Ya="_plus_yi3sf_15",ie={btnSet:Ra,btnTextSet:qa,plus:Ya},Ga=()=>{const t=Z(),{t:s}=h(),n=d.useCallback(()=>{t()},[t]),a=d.useCallback(()=>{t(e.jsx(ye,{onClose:n}))},[t,n]);return e.jsxs("button",{type:"button",className:ie.btnSet,onClick:a,children:[e.jsx("svg",{className:ie.plus,children:e.jsx("use",{xlinkHref:u+"#icon-plus"})}),e.jsx("h2",{className:ie.btnTextSet,children:s("SetBtn")})]})},Ja="_btnAdd_1kew5_1",za="_btnText_1kew5_14",Ka="_plus_1kew5_15",de={btnAdd:Ja,btnText:za,plus:Ka},Qa=()=>{const t=Z(),{t:s}=h(),{date:n}=K(),a=Q(n),c=d.useCallback(()=>{t()},[t]),r=d.useCallback(()=>{t(e.jsx(_e,{onClose:c,operationType:"add",timestampFromUrl:a}))},[t,c,a]);return e.jsxs("button",{type:"button",className:`${de.btnAdd} third-step`,onClick:r,children:[e.jsx("svg",{className:de.plus,children:e.jsx("use",{xlinkHref:u+"#icon-plus"})}),e.jsx("h2",{className:de.btnText,children:s("addWater")})]})},Za=()=>{const{t}=h(),s=w(we),n=s<1?`${s*1e3} ${t("ml")}`:`${s} ${t("l")}`;return e.jsxs("div",{className:G.waterContainer,children:[e.jsx(Ze,{className:G.waterTitle}),s===0?"":e.jsxs("div",{className:`${G.normaContainer} first-step`,children:[e.jsx("h2",{className:G.normaL,children:n}),e.jsx("p",{className:G.normaText,children:t("dailyNorm")})]}),s===0?"":e.jsx(Ha,{}),s===0?e.jsx(Ga,{}):e.jsx(Qa,{})]})},nn=()=>{const{setIsOpen:t}=Ne(),{date:s}=K(),n=Q(s).getTime(),a=O(),[c,r]=d.useState(!0),i=w(Ge);return d.useEffect(()=>{if(c){const m=Date.now();a(J(n)),a(Je(n)),a(ze()),a(Ke(m)),r(!1)}},[c,n,a]),d.useEffect(()=>{i&&(t(!0),a(Qe(!1)))},[i,t,a]),e.jsxs(e.Fragment,{children:[e.jsx(Za,{}),e.jsx(ka,{})]})};export{nn as default};
//# sourceMappingURL=TrackerPage-CXFl46Vi.js.map
